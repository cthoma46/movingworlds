// Generated by CoffeeScript 1.4.0

(function($) {
  var $backdrop, $modal, methods, setting;
  setting = void 0;
  $backdrop = void 0;
  $modal = void 0;
  methods = {
    init: function(options) {
      var settings;
      settings = $.extend({
        offset: {
          x: 0,
          y: 0
        },
        backdrop: true
      }, options);
      if (settings.backdrop) {
        $backdrop = $("<div class=\"modal_backdrop\"></div>");
        $("body").append($backdrop);
        $backdrop.animate({
          opacity: .6
        }, 100).click(function() {
          return methods.close();
        });
      }
      $(".close").click(function(e) {
        return methods.close();
      });
      return $modal = this.css({
        display: "block"
      }).animate({
        top: "50%",
        opacity: 1
      }, 300, "easeOutSine");
    },
    close: function() {
      return $modal.animate({
        top: "-25%",
        opacity: 0
      }, 300, "easeOutSine", function() {
        $modal.css("display", "none");
        return $backdrop.animate({
          opacity: 0
        }, 100, function() {
          return $backdrop.remove();
        });
      });
    }
  };
  return $.fn.MwModal = function(method) {
    if (methods[method]) {
      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
    } else if (typeof method === "object" || !method) {
      return methods.init.apply(this, arguments);
    } else {
      return $.error("The method: " + method + " does not exist");
    }
  };
})(jQuery);
