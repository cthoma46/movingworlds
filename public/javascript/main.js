// Generated by CoffeeScript 1.4.0

$(document).ready(function() {

  $('.data-select-value').each(function (e, el) {
    el = $(el)
    el.val(el.attr('data-value'))
  })


  if ($("#flash_message").length) {
    $("#flash_message").MwModal({});
  }

  $('.subnav').hoverIntent({
    over : function() {
      return $(this).children('ul').first().slideDown('fast')
    },
    out : function() {
      return $(this).children('ul').first().slideUp()
    },
    timeout : 500
  })

  // $('#request-intro').button()
  $('#request-intro').click(function (ev) {
    var $this = $(this)
    var text = $this.attr('data-loading-text')

    // console.log('#request-intro')

    if ($this.text() === text) {
      ev.preventDefault()
      return false
    }
    $this.text(text)
    $this.attr('disabled', 'disabled')
    return true 
  })

  $('#favorite').click(function (ev) {
    var $el = $(this)
    if ($el.hasClass('active')) {
      $el.button('reset')
    } else {
      $el.button('favorite')
    }
    $el.button('toggle')
    $el.toggleClass('red gray')
  })

})

